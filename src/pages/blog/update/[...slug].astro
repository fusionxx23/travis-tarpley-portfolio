---
import RootLayout from "../../../layouts/RootLayout.astro";
import Updater from "@components/Blog/Updater.svelte";
import { getBlogs } from "@libs/blogs/index";
import { type SelectBlog } from "@libs/models/index.ts";
export async function getStaticPaths() {
  const blogs = await getBlogs();
  if (blogs) {
    return blogs.map((blog) => ({
      params: { slug: blog.slug },
      props: blog,
    }));
  } else {
    console.error("FAILED TO PARSE BLOGS");
    return [];
  }
}
type Props = SelectBlog;

const blog = Astro.props;

export const prerender = true;
---

<RootLayout>
  <Updater blog={blog} client:load />
</RootLayout>
